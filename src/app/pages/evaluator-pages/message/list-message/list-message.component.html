
<div class="pc-container">
    <div class="pc-content px-0">
        <div class="row">
            <div class="">
                <h2 class="text-uppercase text-center">
                    <i class="fa fa-envelope fa-1x text-warning me-2"></i>
                    Liste des messages
                </h2>
            </div>
            <div class="col-sm-12">
                <mat-card>
                    <mat-card-content>
                        <div class="card border-0 table-card px-0">
                            <div class="bg-white">
                                <div class="row mb-3 align-items-center justify-content-between g-2">
                                    <div class="col-lg-6 col-12 mb-3 mb-lg-0">
                                        <p class="fw-bold">
                                            <small class="me-2 text-warning">❝</small>
                                            <b><i class="fa fa-bell-slash text-warning"></i></b>
                                            <small class="me-2 text-warning">
                                                Cliquez pour voir le contenu du message
                                            </small>
                                            <small class="ms-2 text-warning">❞</small>
                                        </p>
                                    </div>
                                    <div class="col-lg-6 col-12">
                                        <div class="form-search">
                                            <i class="ti ti-search"></i>
                                            <input type="search" class="form-control" placeholder="Rechercher ici...">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th class="fst-italic">
                                                    <!-- <i class="fa fa-envelope-open" aria-hidden="true"></i> -->
                                                    <i class="fa fa-envelope-square" aria-hidden="true"></i>
                                                </th>
                                                <th>OBJET</th>
                                                <th>DESCRIPTION</th>
                                                <th>Date d'envoi</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="cursor: pointer" [routerLink]="['/web.first-evaluateur.my-message-details', item.slug]" *ngFor="let item of _liste_message | paginate: {id: 'pagination1', itemsPerPage: 20, currentPage: p }; let i=index">
                                                <td>
                                                    <i class="fa fa-paper-plane text-success"></i>
                                                </td>
                                                <td>
                                                    {{ item.object }}
                                                </td>
                                                <td>
                                                    <span *ngIf="item.message != null" class="d-inline-block text-truncate" style="max-width: 300px;">
                                                        {{ item.message }}
                                                    </span>
                                                    <span *ngIf="item.message == null" class="fst-italic">
                                                        (Aucun contenu)
                                                    </span>
                                                </td>
                                                <td class="text-center">
                                                    <b class="me-2"><i class="fa fa-calendar-check text-dark"></i></b>
                                                    <span class="text-dark">{{ item.created_at | date: 'dd MMMM yyyy' }}</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="container text-end mt-3">
                                    <pagination-controls id="pagination1" (pageChange)="p = $event" previousLabel="Précédent" nextLabel="Suivant">
                                    </pagination-controls>
                                </div>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </div>
</div>
